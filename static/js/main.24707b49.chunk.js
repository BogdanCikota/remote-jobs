(this["webpackJsonpjob-listing-app"]=this["webpackJsonpjob-listing-app"]||[]).push([[0],{40:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(16),a=n.n(s),l=(n(40),n(3)),o=n(10),r=n(12),i=n(11),b=Object(i.c)({name:"global",initialState:function(){return{pagesCounter:0,pages:[],numOfResults:10,toIndex:10,category:"",search:"",limit:0,openFilters:!1,fromIndex:0,chunkedPages:[],goToPage:!1,jobPositionTop:0,pageNum:1}},reducers:{setpagesCounter:function(e,t){e.pagesCounter=t.payload},setPages:function(e,t){e.pages=Object(r.a)(t.payload)},setNumOfResults:function(e,t){e.numOfResults=t.payload},setCategory:function(e,t){e.category=t.payload},setSearch:function(e,t){e.search=t.payload},setLimit:function(e,t){e.limit=t.payload},setOpenFilters:function(e,t){e.openFilters=!t.payload},setfromIndex:function(e,t){e.fromIndex=t.payload},setChunkedPages:function(e,t){e.chunkedPages=Object(r.a)(t.payload)},setgoToPage:function(e,t){e.goToPage=t.payload},setJobPositionTop:function(e,t){e.jobPositionTop=t.payload},settoIndex:function(e,t){e.toIndex=t.payload},setPageNum:function(e,t){e.pageNum=t.payload}}}),d=b.actions,j=d.setpagesCounter,u=d.setPages,m=d.setNumOfResults,x=d.setCategory,h=d.setSearch,g=d.setLimit,p=d.setOpenFilters,O=d.setfromIndex,f=d.setChunkedPages,v=d.setgoToPage,N=d.setJobPositionTop,y=d.settoIndex,w=d.setPageNum,k=b.reducer,C=n(0);var I=function(e){var t=e.job,n=Object(l.b)();return Object(C.jsxs)(o.b,{onClick:function(e){window.screen.width<640?n(N(e.target.offsetTop-40)):n(N(e.target.offsetTop-100))},className:" job border-b  hover:bg-gray-50 p-4 block xl:p-4 xl:pl-6 lg:flex justify-between ",to:"/JobDescription",state:t,children:[Object(C.jsxs)("div",{className:"flex gap-4 xl:gap-5",children:[Object(C.jsx)("img",{src:"https://remotive.io/job/".concat(t.id,"/logo"),alt:"logo ".concat(t.company_name),className:"rounded-full w-16 h-16"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"text-blue-400",children:t.company_name}),Object(C.jsx)("h2",{className:"text-blue-900 font-semibold",children:t.title})]})]}),Object(C.jsxs)("div",{className:"hidden text-blue-400 text-right text-sm lg:grid ",children:[Object(C.jsx)("p",{children:t.category}),Object(C.jsx)("div",{children:t.candidate_required_location})]})]})},S=n(35),P=n.n(S),T=n(4);var L=function(e){var t=e.lastChunk,n=e.chunkIndex,s=e.chunk,a=Object(c.useState)(0),o=Object(T.a)(a,2),r=o[0],i=o[1],b=Object(l.c)((function(e){return e.global})),d=b.numOfResults,j=b.pages,u=Object(l.b)();return Object(c.useEffect)((function(){i(s.filter((function(e,t){return console.log("num from setLastNumInChunk: ",e),s.length-1===t})))}),[s]),Object(C.jsxs)("select",{className:" border rounded-md ",onChange:function(e){var t=e.target.value;u(w(+t+1)),u(O(t*d)),u(y(+t*d+ +d)),e.target.selectedIndex=0,u(N(0))},children:[j&&j.length>100?Object(C.jsx)("option",{children:"".concat(100*(n+1)-100+1,"...").concat(t===n?+r+1:100*(n+1))}):Object(C.jsx)("option",{children:"1...".concat(+r+1)}),s.map((function(e,t){return Object(C.jsx)("option",{value:e,children:e+1},t)}))]})};var R=function(e){var t=e.pageNumElement,n=Object(l.b)(),c=Object(l.c)((function(e){return e.global})),s=c.numOfResults,a=c.fromIndex,o=c.toIndex;return Object(C.jsx)("button",{disabled:0===a,className:"font-bold bg-blue-400 hover:bg-blue-500 px-2 pb-0.5 rounded-full text-xl text-white",onClick:function(){var e=t.innerHTML;n(w(e-1)),n(O(a-s)),n(y(o-s)),n(N(0))},children:"<"})};var _=function(e){var t=e.pageNumElement,n=Object(l.c)((function(e){return e.jobs})),c=Object(l.b)(),s=Object(l.c)((function(e){return e.global})),a=s.numOfResults,o=s.fromIndex,r=s.toIndex;return Object(C.jsx)("button",{disabled:r>n.jobs.length-1,className:"font-bold bg-blue-400 hover:bg-blue-500 px-2 pb-0.5 rounded-full text-xl text-white",onClick:function(){var e=t.innerHTML;c(w(+e+1)),c(O(+o+ +a)),c(y(+r+ +a)),c(N(0))},children:">"})};var F=function(){var e=Object(c.useState)(0),t=Object(T.a)(e,2),n=t[0],s=t[1],a=document.querySelector(".pageNum"),o=Object(l.c)((function(e){return e.global})),r=o.pages,i=o.chunkedPages,b=o.goToPage,d=o.numOfResults,j=Object(l.b)();return Object(c.useEffect)((function(){window.innerWidth>425?s(11):s(5)}),[]),Object(C.jsxs)("div",{className:"m-auto my-4 flex gap-6 justify-center mb-1.5 items-center px-4",children:[Object(C.jsx)(R,{pageNumElement:a}),r&&r.length>100&&!b&&Object(C.jsx)("button",{onClick:function(e){j(v(!b)),j(N(e.target.offsetTop))},className:"rounded-lg px-1 bg-blue-400 hover:bg-blue-500 text-white",children:"Go to page..."}),b&&r.length>100&&Object(C.jsx)("div",{className:"flex gap-3 flex-wrap justify-center",children:i.map((function(e,t){return Object(C.jsx)(L,{lastChunk:i.length-1,chunkIndex:t,chunk:e},t)}))}),i.length>0&&r.length<100&&r.length>=n&&Object(C.jsx)(L,{chunk:i[0]}),i.length>0&&r.length<n&&Object(C.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:i[0].map((function(e,t){return Object(C.jsx)("button",{className:"".concat(e+1===10&&"pr-0.5"," rounded-full w-8 py-1  bg-blue-400 hover:bg-blue-500 text-white"),onClick:function(){j(w(e+1)),j(O(e*d)),j(y(+e*d+ +d)),j(N(0))},children:e+1},t)}))}),Object(C.jsx)(_,{pageNumElement:a})]})};var M=function(){var e=Object(l.c)((function(e){return e.jobs})).jobs,t=Object(l.c)((function(e){return e.global})),n=t.pages,s=t.openFilters,a=t.fromIndex,o=t.numOfResults,r=t.toIndex,i=t.pageNum,b=Object(l.b)();return Object(c.useEffect)((function(){b(f(P()(n,100)))}),[n,b,r]),Object(C.jsxs)("main",{className:" ".concat(!s&&"md:mt-16"," grid mb-2 md:mx-auto md:w-2/3 items-start"),children:[Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsxs)("div",{className:"".concat(s?"md:bg-opacity-30 bg-blue-400":"bg-blue-500"," p-1 text-white mb-4 md:rounded-b-full md:bg-blue-300 xl:p-1.5"),children:["Found ",Object(C.jsxs)("span",{children:[e.length," results"]})]}),Object(C.jsxs)("h2",{className:"".concat(e.length<o?"hidden":"inline-block"," font-bold text-blue-900"),children:["Page ",Object(C.jsx)("span",{className:"pageNum",children:i})," "]})]}),Object(C.jsx)("div",{className:"jobs-container",children:e.map((function(e,t){return t>=a&&t<r&&Object(C.jsx)(I,{job:e},t)}))}),Object(C.jsxs)("div",{className:"text-center self-end",children:[Object(C.jsxs)("h2",{className:"".concat(e.length<o?"hidden":"inline-block"," font-bold text-center text-blue-900"),children:["Page ",Object(C.jsx)("span",{className:"pageNum",children:i})," "]}),e.length>o&&Object(C.jsx)(F,{})]})]})};var E=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.jobs})),n=Object(c.useState)(0),s=Object(T.a)(n,2),a=s[0],o=s[1],r=Object(c.useState)(""),i=Object(T.a)(r,2),b=i[0],d=i[1],f=Object(c.useState)(""),N=Object(T.a)(f,2),k=N[0],I=N[1],S=Object(c.useState)(10),P=Object(T.a)(S,2),L=P[0],R=P[1];return Object(C.jsxs)("form",{className:"pb-6 grid gap-3 bg-white md:p-5 md:rounded-lg md:gap-6",onSubmit:function(n){n.preventDefault(),e(g(a)),e(x(b)),e(m(L)),e(h(k));for(var c=[],s=0;s<t.jobs.length/L;s++)c.push(s);e(j(c.length)),e(u(c)),e(O(0)),e(y(L)),e(w(1)),e(v(!1)),e(p(!0))},children:[Object(C.jsxs)("select",{className:"border p-1.5",onChange:function(e){d(e.target.value)},children:[Object(C.jsx)("option",{children:"Choose a job category"}),Object(C.jsx)("option",{children:"All jobs"}),t.categories.map((function(e,t){return Object(C.jsx)("option",{value:e.slug,children:e.name},t)}))]}),Object(C.jsxs)("div",{className:"border p-2",children:[Object(C.jsx)("label",{className:"mb-2 block",htmlFor:"search",children:"Search job listing title and description"}),Object(C.jsx)("input",{className:"pl-2 border",type:"search",id:"search",onChange:function(e){I(e.target.value)}})]}),Object(C.jsxs)("div",{className:"border p-2",children:[Object(C.jsxs)("label",{className:"block",htmlFor:"limit",children:["Limit the number of results:"," "]}),Object(C.jsx)("input",{className:"border w-20 my-1.5",type:"number",id:"limit",min:"1",onChange:function(e){o(e.target.value)}})]}),Object(C.jsxs)("div",{className:"border p-2",children:[Object(C.jsxs)("label",{className:"block",htmlFor:"numOfResults",children:["Results per page:"," "]}),Object(C.jsx)("input",{className:"border w-20 my-1.5",type:"number",id:"numOfResults",min:"1",onChange:function(e){""!==e.target.value?R(e.target.value):R(10)}})]}),Object(C.jsxs)("div",{className:"flex justify-evenly mt-2 xl:justify-center xl:gap-14 xl:mt-0",children:[Object(C.jsx)("button",{className:" rounded-lg px-4 py-1  bg-blue-400 text-white",type:"submit",children:"Go!"}),Object(C.jsx)("button",{className:" rounded-lg px-4 py-1  bg-blue-400 text-white",onClick:function(){e(g(0)),e(x("")),e(h("")),e(m(10)),o(0),d(""),I(""),R(10),e(p(!1)),document.querySelector("#limit").value="",document.querySelector("select").selectedIndex=0,document.querySelector("#search").value="",document.querySelector("#numOfResults").value=""},children:"Reset"})]})]})};var q=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.global})).openFilters;return Object(C.jsxs)("header",{className:"".concat(t?"md:pb-4 md:bg-opacity-60":"pb-3"," bg-blue-400 grid grid-cols-3 md:grid-cols-7 md:fixed w-full left-0 top-0 md:px-7  md:gap-3"),children:[Object(C.jsx)("h1",{className:"col-span-2 m-3 mb-2  text-white text-2xl cursor-pointer",onClick:function(){return window.location.reload()},children:"Remote Jobs"}),Object(C.jsxs)("button",{className:"".concat(t?"bg-opacity-0 mr-6 md:self-start md:mt-2":"mt-3"," mr-3  rounded-2xl px-2 py-1 col-start-3 justify-self-end self-center bg-blue-500 text-white  md:col-start-7 md:px-3"),onClick:function(){e(N(0)),e(p(t))},children:[" ",t?Object(C.jsx)("span",{className:"text-xl md:text-2xl",children:"x"}):Object(C.jsx)("span",{children:"Filters"})]}),Object(C.jsx)("div",{className:"".concat(t?"col-span-full md:col-start-2 md:col-end-7  xl:col-start-3 xl:col-end-6 xl:row-span-full":"hidden"," md:mt-5 md:mb-1 "),children:Object(C.jsx)(E,{})})]})};var J=function(e){var t=e.isLoading;return Object(C.jsxs)("footer",{className:"".concat(t&&"fixed bottom-0 left-0 w-full"," text-white mt-4 text-center"),children:[Object(C.jsxs)("p",{className:"py-2 bg-blue-400 md:mx-40 lg:mx-50 xl:mx-60 md:rounded-t-full xl:bg-blue-300  xl:p-1.5",children:["API Source: ",Object(C.jsx)("a",{href:"https://remotive.io/api-documentation",rel:"noreferrer",target:"_blank",children:"https://remotive.io/api-documentation"})]}),Object(C.jsxs)("p",{className:"bg-blue-500 py-2",children:["Made by ",Object(C.jsx)("a",{className:"underline",href:"https://github.com/BogdanCikota",rel:"noreferrer",target:"_blank",children:"Bogdan"})," "]})]})},D=n(2);var H=function(){var e=Object(D.e)(),t=Object(D.f)(),n=Object(c.useState)(),s=Object(T.a)(n,2),a=s[0],l=s[1],r=Object(c.useState)(),i=Object(T.a)(r,2),b=i[0],d=i[1];return Object(c.useEffect)((function(){if(void 0===e.state)t.push("/");else{l(e.state.publication_date);var n=new Date(a+"Z");d(n.toUTCString().slice(5,16)),window.scroll(0,0);for(var c=document.querySelector(".job-description"),s=0;s<c.children.length;s++)"&nbsp;"!==c.children[s].innerHTML&&""!==c.children[s].innerHTML&&"<br><br>"!==c.children[s].innerHTML&&"<br>"!==c.children[s].innerHTML||c.children[s].classList.add("hidden")}}),[e.state,t,a]),Object(C.jsx)("div",{children:void 0!==e.state&&Object(C.jsxs)("div",{className:"md:mt-16 xl:mt-16 xl:m-auto xl:max-w-5xl xl:p-4 text-gray-800",children:[Object(C.jsx)(o.b,{to:"/",className:"ml-2 underline font-semibold lg:text-lg",children:" \u2190 back"}),Object(C.jsxs)("div",{className:"xl:flex gap-2 px-4 xl:px-0",children:[Object(C.jsx)("div",{className:"w-20 h-20 m-auto xl:border xl:p-3 xl:m-0 xl:w-auto xl:h-auto self-center",children:Object(C.jsx)("img",{className:"rounded-full xl:rounded-none",src:"https://remotive.io/job/".concat(e.state.id,"/logo"),alt:"logo ".concat(e.state.company_name)})}),Object(C.jsxs)("div",{className:"font-semibold p-2 xl:grid gap-2",children:[Object(C.jsxs)("h3",{children:[Object(C.jsx)("span",{className:"font-bold",children:e.state.company_name})," "]}),Object(C.jsxs)("h2",{children:["Job title: ",e.state.title]}),Object(C.jsxs)("p",{children:["Category:  ",Object(C.jsx)("span",{className:"font-normal",children:e.state.category})," "]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"inline",children:[""===e.state.candidate_required_location?Object(C.jsx)("span",{children:"/"}):Object(C.jsx)("span",{className:"font-normal",children:e.state.candidate_required_location})," "]})," /",Object(C.jsxs)("div",{className:"inline",children:[" ",e.state_type?Object(C.jsx)("span",{className:"font-normal",children:e.state_type}):Object(C.jsx)("span",{children:"/"})," "]})]}),Object(C.jsxs)("div",{children:["Published: ",Object(C.jsx)("span",{className:"font-normal",children:b})," "]})]})]}),Object(C.jsx)("div",{className:"border job-description py-3 px-5 w-screen overflow-scroll sm:w-full sm:overflow-visible grid gap-4 leading-relaxed",dangerouslySetInnerHTML:{__html:e.state.description}}),Object(C.jsx)(o.b,{to:"/",className:"ml-2 underline font-semibold lg:text-lg",children:" \u2190 back"})]})})};var A=function(){var e=Object(l.c)((function(e){return e.jobs}));return Object(C.jsxs)("div",{className:"loading grid gap-0.5 mb-2 md:mx-40 md:mt-16 xl:mt-16 xl:m-auto xl:w-2/3",children:[Object(C.jsx)("div",{className:"bg-blue-500 text-center  p-1 text-white mb-4 md:rounded-b-full md:bg-blue-300 xl:p-1.5",children:e.hasData?Object(C.jsx)("span",{children:"Loading..."}):Object(C.jsx)("span",{children:"No data! Try again later!"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"job border-b hover:bg-gray-50 h-24"}),Object(C.jsx)("div",{className:"job border-b hover:bg-gray-50 h-24"}),Object(C.jsx)("div",{className:"job border-b hover:bg-gray-50 h-24"}),Object(C.jsx)("div",{className:"hidden job border-b hover:bg-gray-50 xl:block h-24"}),Object(C.jsx)("div",{className:"hidden job border-b hover:bg-gray-50 xl:block h-24"})]})]})};var B=function(){return Object(C.jsxs)("div",{className:"loading grid gap-0.5 mb-2 xl:mt-16 xl:m-auto xl:w-2/3",children:[Object(C.jsx)("div",{className:"bg-blue-500 text-center  p-1 text-white mb-4 xl:bg-blue-300 xl:rounded-b-full xl:p-1.5",children:"0 results"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"job border-b hover:bg-gray-50 h-24"}),Object(C.jsx)("div",{className:"job border-b hover:bg-gray-50 h-24"}),Object(C.jsx)("div",{className:"job border-b hover:bg-gray-50 h-24"}),Object(C.jsx)("div",{className:"hidden job border-b hover:bg-gray-50 xl:block h-24"}),Object(C.jsx)("div",{className:"hidden job border-b hover:bg-gray-50 xl:block h-24"})]})]})},G=n(15),U=n.n(G),W=n(22),Z=n(23),z=n.n(Z),K=Object(i.b)("jobs/getCategories",Object(W.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://remotive.io/api/remote-jobs/categories",e.next=3,z.a.get("https://remotive.io/api/remote-jobs/categories");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))),Q=Object(i.b)("jobs/getJobs",function(){var e=Object(W.a)(U.a.mark((function e(t,n){var c,s,a,l,o,r,i,b,d;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.limit,s=t.category,a=t.search,l=n.getState().global,o=l.numOfResults,r="https://remotive.io/api/remote-jobs?limit=".concat(c,"&category=").concat(s,"&search=").concat(a),e.next=6,z.a.get(r);case 6:for(i=e.sent,b=[],d=0;d<i.data.jobs.length/o;d++)b.push(d);return n.dispatch(j(b.length)),n.dispatch(u(b)),e.abrupt("return",i.data);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(i.c)({name:"jobs",initialState:{loading:!1,jobs:[],errorMessage:null,hasData:!0,categories:[]},reducers:{setIsLoading:function(e,t){e.loading=t.payload}},extraReducers:function(e){e.addCase(Q.pending,(function(e){e.loading=!0})).addCase(Q.fulfilled,(function(e,t){e.loading=!1,e.jobs=Object(r.a)(t.payload.jobs)})).addCase(Q.rejected,(function(e){e.loading=!1,e.hasData=!1,e.errorMessage="Ops, something went wrong!"})).addCase(K.fulfilled,(function(e,t){e.categories=Object(r.a)(t.payload.jobs)})).addCase(K.rejected,(function(e){e.hasData=!1,e.errorMessage="Ops, something went wrong!"}))}}),X=(V.actions.setIsLoading,V.reducer);var Y=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.jobs})),n=Object(l.c)((function(e){return e.global})),s=t.loading,a=void 0!==s&&s,r=t.jobs,i=void 0===r?[]:r,b=n.category,d=n.search,j=n.limit,u=n.jobPositionTop;return Object(c.useEffect)((function(){e(Q({limit:j,category:b,search:d})),e(K())}),[e,j,b,d]),Object(C.jsx)(o.a,{basemname:"/",children:Object(C.jsxs)("div",{className:"".concat(!a&&"grid"," App"),children:[Object(C.jsx)(q,{}),a?Object(C.jsx)(A,{}):0===i.length?Object(C.jsx)(B,{}):Object(C.jsxs)(D.c,{onClick:window.scrollTo(0,u),children:[Object(C.jsx)(D.a,{exact:!0,path:"/",element:Object(C.jsx)(M,{})}),Object(C.jsx)(D.a,{exact:!0,path:"/JobDescription",element:Object(C.jsx)(H,{})})]}),Object(C.jsx)(J,{isLoading:a})]})})},$=Object(i.a)({reducer:{jobs:X,global:k}});a.a.render(Object(C.jsx)(l.a,{store:$,children:Object(C.jsx)(Y,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.24707b49.chunk.js.map